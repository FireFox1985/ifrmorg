<div class="viewers_indicator">
<% if !local_assigns[:data].viewers.blank? %>
	<% if local_assigns[:data].viewers.length == 1  && local_assigns[:data].viewers.length[0] != current_user.id && local_assigns[:data].userid != current_user.id %>
	<%= raw t('shared.viewers_indicator.only_viewer') %>
	<% elsif local_assigns[:data].viewers.length > 0 && local_assigns[:data].userid != current_user.id %>
	<%= raw t('shared.viewers_indicator.not_only_viewer') %>
	<% elsif local_assigns[:data].userid == current_user.id %>
		<% result = '' %>
		<% local_assigns[:data].viewers.each do |viewer| %>
			<% name = User.where(id: viewer).first.name %>
			<% if local_assigns[:data].viewers.last == viewer && local_assigns[:data].viewers.length > 1 &&  local_assigns[:data].viewers.length == 2 %>
				<% result += t('shared.viewers_indicator.and') + name %>
			<% elsif local_assigns[:data].viewers.last == viewer && local_assigns[:data].viewers.length > 1 &&  local_assigns[:data].viewers.length != 2 %>
				<% result +=  t('shared.viewers_indicator.comma_and') + name %>
			<% elsif local_assigns[:data].viewers.last != viewer && local_assigns[:data].viewers.length != 2 && viewer != local_assigns[:data].viewers.first %>
				<% result +=  ', ' + name %>
			<% else %>
				<% result +=  name %>
			<% end %>
		<% end %>
		<%= result %>
		<% if local_assigns[:data].viewers.length > 1 %>
		<%= t('shared.viewers_indicator.are_viewers') %>
		<% else %>
		<%= t('shared.viewers_indicator.is_a_viewer.') %>
		<% end %>
	<% end %>
<% else %>
	<%= raw t('shared.viewers_indicator.no_viewers') %>
<% end %>
<% if !local_assigns[:data].comment %>
	<%= t('shared.viewers_indicator.disabled_comments') %>
<% end %>
</div>
